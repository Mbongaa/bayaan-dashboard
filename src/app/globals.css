@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #fafafa;
  --foreground: #171717;
  --radius: 0.65rem;
  
  /* Audio Orb Theme Colors - Light Mode */
  --orb-bg-start: #f3f4f6;
  --orb-bg-middle: #e5e7eb;
  --orb-bg-end: #d1d5db;
  --orb-wireframe: #1f2937;
  --orb-ambient-light: #ffffff;
  --orb-spot-light: #ffffff;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    
    /* Audio Orb Theme Colors - Dark Mode (System) */
    --orb-bg-start: #111827;
    --orb-bg-middle: #1f2937;
    --orb-bg-end: #111827;
    --orb-wireframe: #ffffff;
    --orb-ambient-light: #ffffff;
    --orb-spot-light: #ffffff;
  }
}

.light {
  --background: #fafafa;
  --foreground: #171717;
  
  /* Audio Orb Theme Colors - Light Mode (Manual) */
  --orb-bg-start: #f3f4f6;
  --orb-bg-middle: #e5e7eb;
  --orb-bg-end: #d1d5db;
  --orb-wireframe: #1f2937;
  --orb-ambient-light: #ffffff;
  --orb-spot-light: #ffffff;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
  
  /* Audio Orb Theme Colors - Dark Mode (Manual) */
  --orb-bg-start: #111827;
  --orb-bg-middle: #1f2937;
  --orb-bg-end: #111827;
  --orb-wireframe: #ffffff;
  --orb-ambient-light: #ffffff;
  --orb-spot-light: #ffffff;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

/* Dashboard responsive positioning - JavaScript controlled */
.dashboard-overlay {
  transition: left 300ms ease-in-out;
}

.dashboard-overlay-collapsed {
  left: 96px; /* 60px + 16px margin + 20px gap */
}

.dashboard-overlay-expanded {
  left: 340px; /* 300px + 16px margin + 20px gap + 4px extra */
}

/* Animation keyframes for dropdown menu */
@keyframes hide {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes slideDownAndFade {
  from {
    opacity: 0;
    transform: translateY(-6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideLeftAndFade {
  from {
    opacity: 0;
    transform: translateX(6px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideUpAndFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideRightAndFade {
  from {
    opacity: 0;
    transform: translateX(-6px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Hide scrollbars while maintaining scroll functionality */
.scrollbar-hide {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* WebKit browsers */
}

/* Custom scrollbar styling for PromptBox component */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* PWA and Mobile Optimizations */
@media (display-mode: standalone) {
  body {
    /* Remove any margin/padding when running as PWA */
    margin: 0;
    padding: 0;
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Hide address bar on mobile PWA */
  .pwa-standalone {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Touch optimizations for mobile */
@media (pointer: coarse) {
  /* Increase touch target sizes */
  button {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Remove hover states on touch devices */
  *:hover {
    -webkit-tap-highlight-color: transparent;
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Fix viewport height on iOS Safari */
  .ios-vh-fix {
    height: -webkit-fill-available;
    min-height: -webkit-fill-available;
  }
  
  /* Prevent rubber band scrolling */
  body {
    overscroll-behavior-y: none;
  }
  
  /* Fix audio element issues on iOS */
  audio {
    -webkit-playsinline: true;
    playsinline: true;
  }
}

/* Android Chrome specific optimizations */
@media screen and (-webkit-device-pixel-ratio: 1) {
  .android-audio-fix {
    /* Android-specific audio optimizations */
    will-change: transform;
  }
}

/* Prevent zoom on input focus (mobile) */
@media screen and (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px; /* Prevents zoom on iOS */
  }
}

/* ======================================
   SIDEBAR CSS-ONLY ANIMATIONS
   ====================================== */

/* CSS Custom Properties for dynamic sidebar behavior */
:root {
  --sidebar-width: 60px;
  --sidebar-expanded-width: 300px;
}

/* Main content area responds to sidebar state with CSS variables */
.main-content-area {
  left: var(--sidebar-width);
  transition: left 300ms ease-in-out;
}

/* When sidebar is hovered, update CSS variables */
.sidebar-container:hover {
  --sidebar-width: var(--sidebar-expanded-width);
}

/* Apply the variable change to main content via layout wrapper */
.dashboard-layout .sidebar-container:hover ~ .main-content-area {
  left: var(--sidebar-expanded-width);
}

/* Show sidebar labels only on sidebar hover */
.sidebar-container:hover .sidebar-label {
  opacity: 1;
  visibility: visible;
  transform: translateX(0);
}

.sidebar-label {
  opacity: 0;
  visibility: hidden;
  transform: translateX(-10px);
  transition: opacity 300ms ease-in-out, visibility 300ms ease-in-out, transform 300ms ease-in-out;
}

/* Ensure smooth transitions without layout shifts */
.sidebar-container,
.main-content-area {
  will-change: transform;
}
